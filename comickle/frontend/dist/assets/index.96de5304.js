(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function C(){}const ct=t=>t;function L(t,e){for(const n in e)t[n]=e[n];return t}function Ze(t){return t()}function je(){return Object.create(null)}function te(t){t.forEach(Ze)}function Se(t){return typeof t=="function"}function W(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let he;function be(t,e){return he||(he=document.createElement("a")),he.href=e,t===he.href}function ut(t){return Object.keys(t).length===0}function Ke(t,...e){if(t==null)return C;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ue(t){let e;return Ke(t,n=>e=n)(),e}function F(t,e,n){t.$$.on_destroy.push(Ke(e,n))}function ne(t,e,n,r){if(t){const l=Ge(t,e,n,r);return t[0](l)}}function Ge(t,e,n,r){return t[1]&&r?L(n.ctx.slice(),t[1](r(e))):n.ctx}function re(t,e,n,r){if(t[2]&&r){const l=t[2](r(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const o=[],s=Math.max(e.dirty.length,l.length);for(let i=0;i<s;i+=1)o[i]=e.dirty[i]|l[i];return o}return e.dirty|l}return e.dirty}function le(t,e,n,r,l,o){if(l){const s=Ge(e,n,r,o);t.p(s,l)}}function oe(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function V(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Oe(t,e){const n={};e=new Set(e);for(const r in t)!e.has(r)&&r[0]!=="$"&&(n[r]=t[r]);return n}function Re(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const Je=typeof window<"u";let ft=Je?()=>window.performance.now():()=>Date.now(),Le=Je?t=>requestAnimationFrame(t):C;const X=new Set;function Qe(t){X.forEach(e=>{e.c(t)||(X.delete(e),e.f())}),X.size!==0&&Le(Qe)}function at(t){let e;return X.size===0&&Le(Qe),{promise:new Promise(n=>{X.add(e={c:t,f:n})}),abort(){X.delete(e)}}}function h(t,e){t.appendChild(e)}function Xe(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function dt(t){const e=$("style");return mt(Xe(t),e),e.sheet}function mt(t,e){return h(t.head||t,e),e.sheet}function E(t,e,n){t.insertBefore(e,n||null)}function N(t){t.parentNode&&t.parentNode.removeChild(t)}function Ye(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function xe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function B(t){return document.createTextNode(t)}function D(){return B(" ")}function Pe(){return B("")}function x(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $e(t,e){for(const n in e)p(t,n,e[n])}function _t(t){return Array.from(t.childNodes)}function T(t,e){e=""+e,t.data!==e&&(t.data=e)}function gt(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,r,e),l}const ve=new Map;let ye=0;function ht(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function pt(t,e){const n={stylesheet:dt(e),rules:{}};return ve.set(t,n),n}function bt(t,e,n,r,l,o,s,i=0){const c=16.666/r;let u=`{
`;for(let w=0;w<=1;w+=c){const S=e+(n-e)*o(w);u+=w*100+`%{${s(S,1-S)}}
`}const _=u+`100% {${s(n,1-n)}}
}`,m=`__svelte_${ht(_)}_${i}`,f=Xe(t),{stylesheet:a,rules:d}=ve.get(f)||pt(f,t);d[m]||(d[m]=!0,a.insertRule(`@keyframes ${m} ${_}`,a.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${m} ${r}ms linear ${l}ms 1 both`,ye+=1,m}function Be(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),l=n.length-r.length;l&&(t.style.animation=r.join(", "),ye-=l,ye||$t())}function $t(){Le(()=>{ye||(ve.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&N(e)}),ve.clear())})}let ce;function ie(t){ce=t}function vt(){if(!ce)throw new Error("Function called outside component initialization");return ce}function yt(t){vt().$$.on_mount.push(t)}const Q=[],De=[];let Y=[];const We=[],kt=Promise.resolve();let Ee=!1;function wt(){Ee||(Ee=!0,kt.then(et))}function ee(t){Y.push(t)}const Ne=new Set;let G=0;function et(){if(G!==0)return;const t=ce;do{try{for(;G<Q.length;){const e=Q[G];G++,ie(e),Nt(e.$$)}}catch(e){throw Q.length=0,G=0,e}for(ie(null),Q.length=0,G=0;De.length;)De.pop()();for(let e=0;e<Y.length;e+=1){const n=Y[e];Ne.has(n)||(Ne.add(n),n())}Y.length=0}while(Q.length);for(;We.length;)We.pop()();Ee=!1,Ne.clear(),ie(t)}function Nt(t){if(t.fragment!==null){t.update(),te(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ee)}}function Ct(t){const e=[],n=[];Y.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Y=e}let se;function Et(){return se||(se=Promise.resolve(),se.then(()=>{se=null})),se}function Me(t,e,n){t.dispatchEvent(gt(`${e?"intro":"outro"}${n}`))}const pe=new Set;let I;function fe(){I={r:0,c:[],p:I}}function ae(){I.r||te(I.c),I=I.p}function b(t,e){t&&t.i&&(pe.delete(t),t.i(e))}function v(t,e,n,r){if(t&&t.o){if(pe.has(t))return;pe.add(t),I.c.push(()=>{pe.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const St={duration:0};function tt(t,e,n){const r={direction:"in"};let l=e(t,n,r),o=!1,s,i,c=0;function u(){s&&Be(t,s)}function _(){const{delay:f=0,duration:a=300,easing:d=ct,tick:g=C,css:w}=l||St;w&&(s=bt(t,0,1,a,f,d,w,c++)),g(0,1);const S=ft()+f,R=S+a;i&&i.abort(),o=!0,ee(()=>Me(t,!0,"start")),i=at(y=>{if(o){if(y>=R)return g(1,0),Me(t,!0,"end"),u(),o=!1;if(y>=S){const k=d((y-S)/a);g(k,1-k)}}return o})}let m=!1;return{start(){m||(m=!0,Be(t),Se(l)?(l=l(r),Et().then(_)):_())},invalidate(){m=!1},end(){o&&(u(),o=!1)}}}function Z(t,e){const n={},r={},l={$$scope:1};let o=t.length;for(;o--;){const s=t[o],i=e[o];if(i){for(const c in s)c in i||(r[c]=1);for(const c in i)l[c]||(n[c]=i[c],l[c]=1);t[o]=i}else for(const c in s)l[c]=1}for(const s in r)s in n||(n[s]=void 0);return n}function de(t){return typeof t=="object"&&t!==null?t:{}}function O(t){t&&t.c()}function z(t,e,n,r){const{fragment:l,after_update:o}=t.$$;l&&l.m(e,n),r||ee(()=>{const s=t.$$.on_mount.map(Ze).filter(Se);t.$$.on_destroy?t.$$.on_destroy.push(...s):te(s),t.$$.on_mount=[]}),o.forEach(ee)}function A(t,e){const n=t.$$;n.fragment!==null&&(Ct(n.after_update),te(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Lt(t,e){t.$$.dirty[0]===-1&&(Q.push(t),wt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function M(t,e,n,r,l,o,s,i=[-1]){const c=ce;ie(t);const u=t.$$={fragment:null,ctx:[],props:o,update:C,not_equal:l,bound:je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:je(),dirty:i,skip_bound:!1,root:e.target||c.$$.root};s&&s(u.root);let _=!1;if(u.ctx=n?n(t,e.props||{},(m,f,...a)=>{const d=a.length?a[0]:f;return u.ctx&&l(u.ctx[m],u.ctx[m]=d)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](d),_&&Lt(t,m)),f}):[],u.update(),_=!0,te(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const m=_t(e.target);u.fragment&&u.fragment.l(m),m.forEach(N)}else u.fragment&&u.fragment.c();e.intro&&b(t.$$.fragment),z(t,e.target,e.anchor,e.customElement),et()}ie(c)}class H{$destroy(){A(this,1),this.$destroy=C}$on(e,n){if(!Se(n))return C;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!ut(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const J=[];function K(t,e=C){let n;const r=new Set;function l(i){if(W(t,i)&&(t=i,n)){const c=!J.length;for(const u of r)u[1](),J.push(u,t);if(c){for(let u=0;u<J.length;u+=2)J[u][0](J[u+1]);J.length=0}}}function o(i){l(i(t))}function s(i,c=C){const u=[i,c];return r.add(u),r.size===1&&(n=e(l)||C),i(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:l,update:o,subscribe:s}}const nt=K(""),rt=K([]),ue=K(!1),me=K(!1),ze=K(null),_e=K(0),we=K(0);function ke(t){_e.update(e=>{let n=e,r;return we.subscribe(l=>{r=l})(),t==="next"&&e<r-1?n=e+1:t==="prev"&&e>0&&(n=e-1),n})}function lt(){me.set(!1),ze.set(null),_e.set(0)}async function ot(){ue.set(!0);try{const t=await window.go.main.App.SelectDirectory();if(t){nt.set(t);const e=await window.go.main.App.ScanDirectory(t);rt.set(e)}}catch(t){console.error("Error selecting directory:",t)}finally{ue.set(!1)}}async function Pt(t){ue.set(!0);try{const e=await window.go.main.App.OpenComic(t.path);ze.set(t),_e.set(0),we.set(e.totalPages),me.set(!0)}catch(e){console.error("Error opening comic:",e)}finally{ue.set(!1)}}/**
 * @license lucide-svelte v0.503.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const zt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},He=zt;function Ve(t,e,n){const r=t.slice();return r[11]=e[n][0],r[12]=e[n][1],r}function Ce(t){let e,n=[t[12]],r={};for(let l=0;l<n.length;l+=1)r=L(r,n[l]);return{c(){e=xe(t[11]),$e(e,r)},m(l,o){E(l,e,o)},p(l,o){$e(e,r=Z(n,[o&32&&l[12]]))},d(l){l&&N(e)}}}function Fe(t){let e=t[11],n,r=t[11]&&Ce(t);return{c(){r&&r.c(),n=Pe()},m(l,o){r&&r.m(l,o),E(l,n,o)},p(l,o){l[11]?e?W(e,l[11])?(r.d(1),r=Ce(l),e=l[11],r.c(),r.m(n.parentNode,n)):r.p(l,o):(r=Ce(l),e=l[11],r.c(),r.m(n.parentNode,n)):e&&(r.d(1),r=null,e=l[11])},d(l){l&&N(n),r&&r.d(l)}}}function At(t){let e,n,r,l,o,s=t[5],i=[];for(let f=0;f<s.length;f+=1)i[f]=Fe(Ve(t,s,f));const c=t[10].default,u=ne(c,t,t[9],null);let _=[He,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":r=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:l=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],m={};for(let f=0;f<_.length;f+=1)m=L(m,_[f]);return{c(){e=xe("svg");for(let f=0;f<i.length;f+=1)i[f].c();n=Pe(),u&&u.c(),$e(e,m)},m(f,a){E(f,e,a);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(e,null);h(e,n),u&&u.m(e,null),o=!0},p(f,[a]){if(a&32){s=f[5];let d;for(d=0;d<s.length;d+=1){const g=Ve(f,s,d);i[d]?i[d].p(g,a):(i[d]=Fe(g),i[d].c(),i[d].m(e,n))}for(;d<i.length;d+=1)i[d].d(1);i.length=s.length}u&&u.p&&(!o||a&512)&&le(u,c,f,f[9],o?re(c,f[9],a,null):oe(f[9]),null),$e(e,m=Z(_,[He,a&128&&f[7],(!o||a&4)&&{width:f[2]},(!o||a&4)&&{height:f[2]},(!o||a&2)&&{stroke:f[1]},(!o||a&28&&r!==(r=f[4]?Number(f[3])*24/Number(f[2]):f[3]))&&{"stroke-width":r},(!o||a&257&&l!==(l=f[6]("lucide-icon","lucide",f[0]?`lucide-${f[0]}`:"",f[8].class)))&&{class:l}]))},i(f){o||(b(u,f),o=!0)},o(f){v(u,f),o=!1},d(f){f&&N(e),Ye(i,f),u&&u.d(f)}}}function jt(t,e,n){const r=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let l=Oe(e,r),{$$slots:o={},$$scope:s}=e,{name:i=void 0}=e,{color:c="currentColor"}=e,{size:u=24}=e,{strokeWidth:_=2}=e,{absoluteStrokeWidth:m=!1}=e,{iconNode:f=[]}=e;const a=(...d)=>d.filter((g,w,S)=>Boolean(g)&&S.indexOf(g)===w).join(" ");return t.$$set=d=>{n(8,e=L(L({},e),V(d))),n(7,l=Oe(e,r)),"name"in d&&n(0,i=d.name),"color"in d&&n(1,c=d.color),"size"in d&&n(2,u=d.size),"strokeWidth"in d&&n(3,_=d.strokeWidth),"absoluteStrokeWidth"in d&&n(4,m=d.absoluteStrokeWidth),"iconNode"in d&&n(5,f=d.iconNode),"$$scope"in d&&n(9,s=d.$$scope)},e=V(e),[i,c,u,_,m,f,a,l,e,s,o]}class Ot extends H{constructor(e){super(),M(this,e,jt,At,W,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}const ge=Ot;function Rt(t){let e;const n=t[2].default,r=ne(n,t,t[3],null);return{c(){r&&r.c()},m(l,o){r&&r.m(l,o),e=!0},p(l,o){r&&r.p&&(!e||o&8)&&le(r,n,l,l[3],e?re(n,l[3],o,null):oe(l[3]),null)},i(l){e||(b(r,l),e=!0)},o(l){v(r,l),e=!1},d(l){r&&r.d(l)}}}function Bt(t){let e,n;const r=[{name:"chevron-left"},t[1],{iconNode:t[0]}];let l={$$slots:{default:[Rt]},$$scope:{ctx:t}};for(let o=0;o<r.length;o+=1)l=L(l,r[o]);return e=new ge({props:l}),{c(){O(e.$$.fragment)},m(o,s){z(e,o,s),n=!0},p(o,[s]){const i=s&3?Z(r,[r[0],s&2&&de(o[1]),s&1&&{iconNode:o[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function Dt(t,e,n){let{$$slots:r={},$$scope:l}=e;const o=[["path",{d:"m15 18-6-6 6-6"}]];return t.$$set=s=>{n(1,e=L(L({},e),V(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=V(e),[o,e,r,l]}class Wt extends H{constructor(e){super(),M(this,e,Dt,Bt,W,{})}}const Mt=Wt;function Ht(t){let e;const n=t[2].default,r=ne(n,t,t[3],null);return{c(){r&&r.c()},m(l,o){r&&r.m(l,o),e=!0},p(l,o){r&&r.p&&(!e||o&8)&&le(r,n,l,l[3],e?re(n,l[3],o,null):oe(l[3]),null)},i(l){e||(b(r,l),e=!0)},o(l){v(r,l),e=!1},d(l){r&&r.d(l)}}}function Vt(t){let e,n;const r=[{name:"chevron-right"},t[1],{iconNode:t[0]}];let l={$$slots:{default:[Ht]},$$scope:{ctx:t}};for(let o=0;o<r.length;o+=1)l=L(l,r[o]);return e=new ge({props:l}),{c(){O(e.$$.fragment)},m(o,s){z(e,o,s),n=!0},p(o,[s]){const i=s&3?Z(r,[r[0],s&2&&de(o[1]),s&1&&{iconNode:o[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function Ft(t,e,n){let{$$slots:r={},$$scope:l}=e;const o=[["path",{d:"m9 18 6-6-6-6"}]];return t.$$set=s=>{n(1,e=L(L({},e),V(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=V(e),[o,e,r,l]}class qt extends H{constructor(e){super(),M(this,e,Ft,Vt,W,{})}}const It=qt;function Tt(t){let e;const n=t[2].default,r=ne(n,t,t[3],null);return{c(){r&&r.c()},m(l,o){r&&r.m(l,o),e=!0},p(l,o){r&&r.p&&(!e||o&8)&&le(r,n,l,l[3],e?re(n,l[3],o,null):oe(l[3]),null)},i(l){e||(b(r,l),e=!0)},o(l){v(r,l),e=!1},d(l){r&&r.d(l)}}}function Zt(t){let e,n;const r=[{name:"folder-open"},t[1],{iconNode:t[0]}];let l={$$slots:{default:[Tt]},$$scope:{ctx:t}};for(let o=0;o<r.length;o+=1)l=L(l,r[o]);return e=new ge({props:l}),{c(){O(e.$$.fragment)},m(o,s){z(e,o,s),n=!0},p(o,[s]){const i=s&3?Z(r,[r[0],s&2&&de(o[1]),s&1&&{iconNode:o[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function Kt(t,e,n){let{$$slots:r={},$$scope:l}=e;const o=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2"}]];return t.$$set=s=>{n(1,e=L(L({},e),V(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=V(e),[o,e,r,l]}class Ut extends H{constructor(e){super(),M(this,e,Kt,Zt,W,{})}}const st=Ut;function Gt(t){let e;const n=t[2].default,r=ne(n,t,t[3],null);return{c(){r&&r.c()},m(l,o){r&&r.m(l,o),e=!0},p(l,o){r&&r.p&&(!e||o&8)&&le(r,n,l,l[3],e?re(n,l[3],o,null):oe(l[3]),null)},i(l){e||(b(r,l),e=!0)},o(l){v(r,l),e=!1},d(l){r&&r.d(l)}}}function Jt(t){let e,n;const r=[{name:"house"},t[1],{iconNode:t[0]}];let l={$$slots:{default:[Gt]},$$scope:{ctx:t}};for(let o=0;o<r.length;o+=1)l=L(l,r[o]);return e=new ge({props:l}),{c(){O(e.$$.fragment)},m(o,s){z(e,o,s),n=!0},p(o,[s]){const i=s&3?Z(r,[r[0],s&2&&de(o[1]),s&1&&{iconNode:o[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function Qt(t,e,n){let{$$slots:r={},$$scope:l}=e;const o=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}]];return t.$$set=s=>{n(1,e=L(L({},e),V(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=V(e),[o,e,r,l]}class Xt extends H{constructor(e){super(),M(this,e,Qt,Jt,W,{})}}const Yt=Xt;function xt(t){let e;const n=t[2].default,r=ne(n,t,t[3],null);return{c(){r&&r.c()},m(l,o){r&&r.m(l,o),e=!0},p(l,o){r&&r.p&&(!e||o&8)&&le(r,n,l,l[3],e?re(n,l[3],o,null):oe(l[3]),null)},i(l){e||(b(r,l),e=!0)},o(l){v(r,l),e=!1},d(l){r&&r.d(l)}}}function en(t){let e,n;const r=[{name:"settings"},t[1],{iconNode:t[0]}];let l={$$slots:{default:[xt]},$$scope:{ctx:t}};for(let o=0;o<r.length;o+=1)l=L(l,r[o]);return e=new ge({props:l}),{c(){O(e.$$.fragment)},m(o,s){z(e,o,s),n=!0},p(o,[s]){const i=s&3?Z(r,[r[0],s&2&&de(o[1]),s&1&&{iconNode:o[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function tn(t,e,n){let{$$slots:r={},$$scope:l}=e;const o=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]];return t.$$set=s=>{n(1,e=L(L({},e),V(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=V(e),[o,e,r,l]}class nn extends H{constructor(e){super(),M(this,e,tn,en,W,{})}}const rn=nn;function ln(t){let e;return{c(){e=B("CBZ Reader")},m(n,r){E(n,e,r)},p:C,d(n){n&&N(e)}}}function on(t){var m;let e=((m=t[1])==null?void 0:m.title)+"",n,r,l,o,s=t[2]+1+"",i,c,u,_;return{c(){n=B(e),r=D(),l=$("span"),o=B("("),i=B(s),c=B("/"),u=B(t[3]),_=B(")"),p(l,"class","text-sm text-gray-400")},m(f,a){E(f,n,a),E(f,r,a),E(f,l,a),h(l,o),h(l,i),h(l,c),h(l,u),h(l,_)},p(f,a){var d;a&2&&e!==(e=((d=f[1])==null?void 0:d.title)+"")&&T(n,e),a&4&&s!==(s=f[2]+1+"")&&T(i,s),a&8&&T(u,f[3])},d(f){f&&N(n),f&&N(r),f&&N(l)}}}function qe(t){let e,n,r,l,o,s,i;return n=new st({props:{size:16}}),{c(){e=$("button"),O(n.$$.fragment),r=D(),l=$("span"),l.textContent="Select Directory",p(e,"class","flex items-center space-x-2 bg-purple-800 hover:bg-purple-700 px-4 py-2 rounded-md transition-colors")},m(c,u){E(c,e,u),z(n,e,null),h(e,r),h(e,l),o=!0,s||(i=x(e,"click",ot),s=!0)},p:C,i(c){o||(b(n.$$.fragment,c),o=!0)},o(c){v(n.$$.fragment,c),o=!1},d(c){c&&N(e),A(n),s=!1,i()}}}function sn(t){let e,n,r,l,o,s,i,c,u,_,m,f,a,d,g;l=new Yt({props:{size:20,class:t[0]?"text-white":"text-gray-500"}});function w(k,P){return k[0]?on:ln}let S=w(t),R=S(t),y=!t[0]&&qe();return f=new rn({props:{size:20}}),{c(){e=$("header"),n=$("div"),r=$("button"),O(l.$$.fragment),s=D(),i=$("h1"),R.c(),c=D(),u=$("div"),y&&y.c(),_=D(),m=$("button"),O(f.$$.fragment),p(r,"class","p-2 rounded-full hover:bg-purple-900 transition-colors"),r.disabled=o=!t[0],p(i,"class","text-xl font-bold"),p(n,"class","flex items-center space-x-2"),p(m,"class","p-2 rounded-full hover:bg-purple-900 transition-colors"),p(u,"class","flex items-center space-x-2"),p(e,"class","bg-gray-800 border-b border-purple-900 p-4 flex justify-between items-center")},m(k,P){E(k,e,P),h(e,n),h(n,r),z(l,r,null),h(n,s),h(n,i),R.m(i,null),h(e,c),h(e,u),y&&y.m(u,null),h(u,_),h(u,m),z(f,m,null),a=!0,d||(g=x(r,"click",lt),d=!0)},p(k,[P]){const U={};P&1&&(U.class=k[0]?"text-white":"text-gray-500"),l.$set(U),(!a||P&1&&o!==(o=!k[0]))&&(r.disabled=o),S===(S=w(k))&&R?R.p(k,P):(R.d(1),R=S(k),R&&(R.c(),R.m(i,null))),k[0]?y&&(fe(),v(y,1,1,()=>{y=null}),ae()):y?(y.p(k,P),P&1&&b(y,1)):(y=qe(),y.c(),b(y,1),y.m(u,_))},i(k){a||(b(l.$$.fragment,k),b(y),b(f.$$.fragment,k),a=!0)},o(k){v(l.$$.fragment,k),v(y),v(f.$$.fragment,k),a=!1},d(k){k&&N(e),A(l),R.d(),y&&y.d(),A(f),d=!1,g()}}}function cn(t,e,n){let r,l,o,s;return F(t,me,i=>n(0,r=i)),F(t,ze,i=>n(1,l=i)),F(t,_e,i=>n(2,o=i)),F(t,we,i=>n(3,s=i)),[r,l,o,s]}class un extends H{constructor(e){super(),M(this,e,cn,sn,W,{})}}function fn(t){let e;return{c(){e=$("footer"),e.textContent="CBZ Reader - Built with Go, Wails, Svelte, and Tailwind CSS",p(e,"class","bg-gray-800 border-t border-purple-900 p-3 text-center text-sm text-gray-400")},m(n,r){E(n,e,r)},p:C,i:C,o:C,d(n){n&&N(e)}}}class an extends H{constructor(e){super(),M(this,e,null,fn,W,{})}}function dn(t){const e=t-1;return e*e*e+1}function it(t,{delay:e=0,duration:n=400,easing:r=dn,x:l=0,y:o=0,opacity:s=0}={}){const i=getComputedStyle(t),c=+i.opacity,u=i.transform==="none"?"":i.transform,_=c*(1-s),[m,f]=Re(l),[a,d]=Re(o);return{delay:e,duration:n,easing:r,css:(g,w)=>`
			transform: ${u} translate(${(1-g)*m}${f}, ${(1-g)*a}${d});
			opacity: ${c-_*w}`}}function mn(t){let e,n,r,l,o,s,i,c,u=t[0].title+"",_,m,f;return{c(){e=$("div"),n=$("div"),r=$("img"),s=D(),i=$("div"),c=$("h3"),_=B(u),be(r.src,l=t[0].coverImage||"/placeholder.svg")||p(r,"src",l),p(r,"alt",o=t[0].title),p(r,"class","w-full h-full object-cover"),p(n,"class","aspect-[2/3] relative"),p(c,"class","text-sm font-medium truncate"),p(i,"class","p-3"),p(e,"class","bg-gray-800 rounded-lg overflow-hidden hover:ring-2 hover:ring-purple-600 transition-all cursor-pointer transform hover:scale-105")},m(a,d){E(a,e,d),h(e,n),h(n,r),h(e,s),h(e,i),h(i,c),h(c,_),m||(f=x(e,"click",t[1]),m=!0)},p(a,[d]){d&1&&!be(r.src,l=a[0].coverImage||"/placeholder.svg")&&p(r,"src",l),d&1&&o!==(o=a[0].title)&&p(r,"alt",o),d&1&&u!==(u=a[0].title+"")&&T(_,u)},i:C,o:C,d(a){a&&N(e),m=!1,f()}}}function _n(t,e,n){let{comic:r}=e;const l=()=>Pt(r);return t.$$set=o=>{"comic"in o&&n(0,r=o.comic)},[r,l]}class gn extends H{constructor(e){super(),M(this,e,_n,mn,W,{comic:0})}}function Ie(t,e,n){const r=t.slice();return r[2]=e[n],r}function hn(t){let e,n,r,l,o,s,i,c,u,_;return o=new st({props:{size:16}}),{c(){e=$("div"),n=$("p"),n.textContent="No directory selected. Please select a directory to scan for CBZ files.",r=D(),l=$("button"),O(o.$$.fragment),s=D(),i=$("span"),i.textContent="Select Directory",p(n,"class","text-gray-400 mb-4"),p(l,"class","flex items-center space-x-2 bg-purple-800 hover:bg-purple-700 px-4 py-2 rounded-md transition-colors mx-auto"),p(e,"class","text-center py-12")},m(m,f){E(m,e,f),h(e,n),h(e,r),h(e,l),z(o,l,null),h(l,s),h(l,i),c=!0,u||(_=x(l,"click",ot),u=!0)},p:C,i(m){c||(b(o.$$.fragment,m),c=!0)},o(m){v(o.$$.fragment,m),c=!1},d(m){m&&N(e),A(o),u=!1,_()}}}function pn(t){let e,n,r,l,o,s,i,c,u;const _=[$n,bn],m=[];function f(a,d){return a[1].length>0?0:1}return s=f(t),i=m[s]=_[s](t),{c(){e=$("div"),n=$("h2"),r=B("Directory: "),l=B(t[0]),o=D(),i.c(),c=Pe(),p(n,"class","text-lg text-gray-400"),p(e,"class","mb-4")},m(a,d){E(a,e,d),h(e,n),h(n,r),h(n,l),E(a,o,d),m[s].m(a,d),E(a,c,d),u=!0},p(a,d){(!u||d&1)&&T(l,a[0]);let g=s;s=f(a),s===g?m[s].p(a,d):(fe(),v(m[g],1,1,()=>{m[g]=null}),ae(),i=m[s],i?i.p(a,d):(i=m[s]=_[s](a),i.c()),b(i,1),i.m(c.parentNode,c))},i(a){u||(b(i),u=!0)},o(a){v(i),u=!1},d(a){a&&N(e),a&&N(o),m[s].d(a),a&&N(c)}}}function bn(t){let e;return{c(){e=$("div"),e.innerHTML='<p class="text-gray-400">No CBZ files found in the selected directory.</p>',p(e,"class","text-center py-12")},m(n,r){E(n,e,r)},p:C,i:C,o:C,d(n){n&&N(e)}}}function $n(t){let e,n,r=t[1],l=[];for(let s=0;s<r.length;s+=1)l[s]=Te(Ie(t,r,s));const o=s=>v(l[s],1,1,()=>{l[s]=null});return{c(){e=$("div");for(let s=0;s<l.length;s+=1)l[s].c();p(e,"class","grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-6")},m(s,i){E(s,e,i);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);n=!0},p(s,i){if(i&2){r=s[1];let c;for(c=0;c<r.length;c+=1){const u=Ie(s,r,c);l[c]?(l[c].p(u,i),b(l[c],1)):(l[c]=Te(u),l[c].c(),b(l[c],1),l[c].m(e,null))}for(fe(),c=r.length;c<l.length;c+=1)o(c);ae()}},i(s){if(!n){for(let i=0;i<r.length;i+=1)b(l[i]);n=!0}},o(s){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)v(l[i]);n=!1},d(s){s&&N(e),Ye(l,s)}}}function Te(t){let e,n;return e=new gn({props:{comic:t[2]}}),{c(){O(e.$$.fragment)},m(r,l){z(e,r,l),n=!0},p(r,l){const o={};l&2&&(o.comic=r[2]),e.$set(o)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function vn(t){let e,n,r,l,o;const s=[pn,hn],i=[];function c(u,_){return u[0]?0:1}return n=c(t),r=i[n]=s[n](t),{c(){e=$("div"),r.c(),p(e,"class","p-6")},m(u,_){E(u,e,_),i[n].m(e,null),o=!0},p(u,[_]){let m=n;n=c(u),n===m?i[n].p(u,_):(fe(),v(i[m],1,1,()=>{i[m]=null}),ae(),r=i[n],r?r.p(u,_):(r=i[n]=s[n](u),r.c()),b(r,1),r.m(e,null))},i(u){o||(b(r),l||ee(()=>{l=tt(e,it,{y:20,duration:300}),l.start()}),o=!0)},o(u){v(r),o=!1},d(u){u&&N(e),i[n].d()}}}function yn(t,e,n){let r,l;return F(t,nt,o=>n(0,r=o)),F(t,rt,o=>n(1,l=o)),[r,l]}class kn extends H{constructor(e){super(),M(this,e,yn,vn,W,{})}}function wn(t){let e,n,r,l,o,s,i,c,u,_,m,f,a,d,g,w=t[0]+1+"",S,R,y,k,P,U,Ae;return c=new Mt({props:{size:24}}),f=new It({props:{size:24}}),{c(){e=$("div"),n=$("img"),o=D(),s=$("div"),i=$("button"),O(c.$$.fragment),_=D(),m=$("button"),O(f.$$.fragment),d=D(),g=$("div"),S=B(w),R=B(" / "),y=B(t[1]),be(n.src,r=`/placeholder.svg?height=800&width=600&text=Page ${t[0]+1}`)||p(n,"src",r),p(n,"alt",l=`Page ${t[0]+1}`),p(n,"class","max-h-[calc(100vh-8rem)] w-auto object-contain"),p(i,"class","p-3 rounded-full bg-gray-800 bg-opacity-70 hover:bg-purple-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"),i.disabled=u=t[0]===0,p(m,"class","p-3 rounded-full bg-gray-800 bg-opacity-70 hover:bg-purple-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"),m.disabled=a=t[0]===t[1]-1,p(s,"class","absolute inset-x-0 bottom-4 flex justify-center space-x-4"),p(g,"class","absolute bottom-4 right-4 bg-gray-800 bg-opacity-70 px-3 py-1 rounded-md text-sm"),p(e,"class","h-full flex flex-col items-center justify-center relative bg-black")},m(j,q){E(j,e,q),h(e,n),h(e,o),h(e,s),h(s,i),z(c,i,null),h(s,_),h(s,m),z(f,m,null),h(e,d),h(e,g),h(g,S),h(g,R),h(g,y),P=!0,U||(Ae=[x(i,"click",t[2]),x(m,"click",t[3])],U=!0)},p(j,[q]){(!P||q&1&&!be(n.src,r=`/placeholder.svg?height=800&width=600&text=Page ${j[0]+1}`))&&p(n,"src",r),(!P||q&1&&l!==(l=`Page ${j[0]+1}`))&&p(n,"alt",l),(!P||q&1&&u!==(u=j[0]===0))&&(i.disabled=u),(!P||q&3&&a!==(a=j[0]===j[1]-1))&&(m.disabled=a),(!P||q&1)&&w!==(w=j[0]+1+"")&&T(S,w),(!P||q&2)&&T(y,j[1])},i(j){P||(b(c.$$.fragment,j),b(f.$$.fragment,j),k||ee(()=>{k=tt(e,it,{y:20,duration:300}),k.start()}),P=!0)},o(j){v(c.$$.fragment,j),v(f.$$.fragment,j),P=!1},d(j){j&&N(e),A(c),A(f),U=!1,te(Ae)}}}function Nn(t,e,n){let r,l;return F(t,_e,i=>n(0,r=i)),F(t,we,i=>n(1,l=i)),[r,l,()=>ke("prev"),()=>ke("next")]}class Cn extends H{constructor(e){super(),M(this,e,Nn,wn,W,{})}}function En(t){let e;return{c(){e=$("div"),e.innerHTML='<div class="w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"></div>',p(e,"class","flex items-center justify-center h-full")},m(n,r){E(n,e,r)},p:C,i:C,o:C,d(n){n&&N(e)}}}class Sn extends H{constructor(e){super(),M(this,e,null,En,W,{})}}function Ln(t){let e,n;return e=new kn({}),{c(){O(e.$$.fragment)},m(r,l){z(e,r,l),n=!0},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function Pn(t){let e,n;return e=new Cn({}),{c(){O(e.$$.fragment)},m(r,l){z(e,r,l),n=!0},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function zn(t){let e,n;return e=new Sn({}),{c(){O(e.$$.fragment)},m(r,l){z(e,r,l),n=!0},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function An(t){let e,n,r,l,o,s,i,c,u,_,m;r=new un({});const f=[zn,Pn,Ln],a=[];function d(g,w){return g[0]?0:(s==null&&(s=!!Ue(me)),s?1:2)}return i=d(t),c=a[i]=f[i](t),_=new an({}),{c(){e=D(),n=$("div"),O(r.$$.fragment),l=D(),o=$("main"),c.c(),u=D(),O(_.$$.fragment),document.title="CBZ Reader",p(o,"class","flex-1 overflow-hidden"),p(n,"class","min-h-screen bg-gray-900 text-white flex flex-col")},m(g,w){E(g,e,w),E(g,n,w),z(r,n,null),h(n,l),h(n,o),a[i].m(o,null),h(n,u),z(_,n,null),m=!0},p(g,[w]){let S=i;i=d(g),i!==S&&(fe(),v(a[S],1,1,()=>{a[S]=null}),ae(),c=a[i],c||(c=a[i]=f[i](g),c.c()),b(c,1),c.m(o,null))},i(g){m||(b(r.$$.fragment,g),b(c),b(_.$$.fragment,g),m=!0)},o(g){v(r.$$.fragment,g),v(c),v(_.$$.fragment,g),m=!1},d(g){g&&N(e),g&&N(n),A(r),a[i].d(),A(_)}}}function jn(t,e,n){let r;F(t,ue,o=>n(0,r=o));function l(o){!Ue(me)||(o.key==="ArrowRight"?ke("next"):o.key==="ArrowLeft"?ke("prev"):o.key==="Escape"&&lt())}return yt(()=>(window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)})),[r]}class On extends H{constructor(e){super(),M(this,e,jn,An,W,{})}}new On({target:document.getElementById("app")});
